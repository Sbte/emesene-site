--- 
name: code-quiz
layout: post
title: Code quiz
time: 2009-05-01 05:02:00 +02:00
---
run this code:<br /><br />see that the close icon has a padding on the left and the bottom?<br /><br /><br /><div class="highlight"><pre><span class="k">import</span> <span class="nn">gtk</span><br /><br /><span class="k">class</span> <span class="nc">TinyButton</span><span class="p">(</span><span class="n">gtk</span><span class="o">.</span><span class="n">Button</span><span class="p">):</span><br />  <span class="sd">'''a simple and tiny button'''</span><br /><br />  <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stock</span><span class="p">):</span><br />      <span class="sd">'''constructor'''</span><br />      <span class="n">gtk</span><span class="o">.</span><span class="n">Button</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><br /><br />      <span class="bp">self</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="n">gtk</span><span class="o">.</span><span class="n">image_new_from_stock</span><span class="p">(</span><span class="n">stock</span><span class="p">,</span> <span class="n">gtk</span><span class="o">.</span><span class="n">ICON_SIZE_MENU</span><span class="p">)</span><br />      <span class="bp">self</span><span class="o">.</span><span class="n">set_image</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">image</span><span class="p">)</span><br />      <span class="n">width</span><span class="p">,</span> <span class="n">height</span> <span class="o">=</span> <span class="n">gtk</span><span class="o">.</span><span class="n">icon_size_lookup</span><span class="p">(</span><span class="n">gtk</span><span class="o">.</span><span class="n">ICON_SIZE_MENU</span><span class="p">)</span><br />      <span class="bp">self</span><span class="o">.</span><span class="n">set_size_request</span><span class="p">(</span><span class="n">width</span> <span class="o">+</span> <span class="mf">2</span><span class="p">,</span> <span class="n">height</span> <span class="o">+</span> <span class="mf">2</span><span class="p">)</span><br />      <span class="bp">self</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">show</span><span class="p">()</span><br /><br />      <span class="bp">self</span><span class="o">.</span><span class="n">set_focus_on_click</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span><br />      <span class="bp">self</span><span class="o">.</span><span class="n">set_relief</span><span class="p">(</span><span class="n">gtk</span><span class="o">.</span><span class="n">RELIEF_NONE</span><span class="p">)</span><br /><br /><span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">'__main__'</span><span class="p">:</span><br />  <span class="n">w</span> <span class="o">=</span> <span class="n">gtk</span><span class="o">.</span><span class="n">Window</span><span class="p">()</span><br />  <span class="n">w</span><span class="o">.</span><span class="kp">add</span><span class="p">(</span><span class="n">TinyButton</span><span class="p">(</span><span class="n">gtk</span><span class="o">.</span><span class="n">STOCK_CLOSE</span><span class="p">))</span><br />  <span class="n">w</span><span class="o">.</span><span class="n">show_all</span><span class="p">()</span><br />  <span class="n">gtk</span><span class="o">.</span><span class="n">main</span><span class="p">()</span><br /></pre></div><br /><br />ok, if you can remove that extra padding your name will be on this post :D<br /><br />EDIT: what I need is a really small button with no margins or paddings, that's why it's called TinyButton ;)<br /><br />HINT: I borrowed the code from here: http://git.gnome.org./cgit/gnome-terminal/tree/src/terminal-tab-label.c?h=gnome-2-26 but something is missing and I can't see what.<br /><br />An the winner is:<br /><br /><span style="font-weight: bold;">Faith_Nahn</span><br /><br />he posted the code to solve the problem that involved setting a gtk style for the button. Thanks to him and all the ones that submited code!<br /><br />If you find it fun I can make more code quizes in the future.<br /><br />as an extra bonus you where added to the dummy user list of the dummy protocol, now you can make girls fall inlove with you by showing them that you are on emesene code (?)*<br /><br />btw, you are on the commit log too: http://emesene.svn.sourceforge.net/viewvc/emesene?view=rev&amp;revision=1610<br /><br />* to make this, login with any user and password selecting the dummy session on login preferences.
